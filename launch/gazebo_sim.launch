<?xml version="1.0"?>

<launch>

  <!-- Load Parameters -->
  <rosparam command="load" file="$(find ogm_ae)/config/maps_gazebo.yaml"   />
  <rosparam command="load" file="$(find ogm_ae)/config/exploration.yaml"   />
  <rosparam command="load" file="$(find ogm_ae)/config/depth_sensors.yaml" />

  <!-- Simulation Time True -->
  <param name="use_sim_time" value="true" />
  <param name="run_autonomous_exploration"  value="true"      />
  <param name="exploration/simulate_gazebo" value="true"      />
  <param name="exploration/robot_frame"     value="base_link" />

  <!-- Start Gazebo with 'simple_world' Environment -->
  <include file="$(find fdcl_test)/launch/start.launch">
    <!-- arg name="world" value="worlds/empty.world"/ -->
    <arg name="world" value="$(find fdcl_test)/worlds/lasr.world"/>
  </include>

  <!-- Spawn simulated quadrotor uav -->
  <include file="$(find fdcl_test)/launch/spawn_quadrotor.launch" >
    <arg name="model" value="$(find fdcl_test)/robot_description/urdf/quad_with_laser_and_rgbd.xacro"/>
  </include>

  <!-- Projected 2D Maps -->
  <node pkg="ogm_ae" name="generate_exploration_map_entropy"   type="generate_exploration_map" output="screen">
    <param name="map_goal" value="entropy"  />
  </node>
  <node pkg="ogm_ae" name="generate_exploration_map_collision" type="generate_exploration_map" output="screen">
    <param name="map_goal" value="collision"/>
  </node>

  <!-- Set Robot Model State -->
  <node pkg="ogm_ae" name="paths_to_cmd" type="paths_to_cmd" output="screen"/>

</launch>
